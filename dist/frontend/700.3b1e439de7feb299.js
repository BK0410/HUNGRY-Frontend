"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[700],{6700:(q,x,u)=>{u.r(x),u.d(x,{CartModule:()=>S});var h=u(3189),f=u(9808),_=u(8698),t=u(1223),C=u(5432);function b(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"ul")(2,"li",5)(3,"a",6),t._uU(4,"My Orders"),t.qZA()(),t.TgZ(5,"li",7)(6,"a",8),t._uU(7,"Order Now"),t.qZA()(),t.TgZ(8,"li",9)(9,"a",10),t._uU(10,"Delivery Address"),t.qZA()(),t.TgZ(11,"li")(12,"a",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().logout()}),t._uU(13,"Logout"),t.qZA()()()()}}function v(n,s){1&n&&(t.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"h1",28),t._uU(4,"H U N G R Y "),t.qZA()()(),t.TgZ(5,"h2")(6,"strong"),t._uU(7,"HALT YOUR HUNGER BY ORDERING HERE"),t.qZA()(),t.TgZ(8,"h2",29)(9,"strong"),t._uU(10,"YOUR CART IS EMPTY"),t.qZA()(),t.TgZ(11,"div",30)(12,"button",31)(13,"strong"),t._uU(14,"ORDER NOW"),t.qZA()()()())}function O(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35)(2,"div",36)(3,"div",37),t._UZ(4,"img",38),t.qZA(),t.TgZ(5,"div",39)(6,"div",40)(7,"span",41)(8,"strong"),t._uU(9,"Dish:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"span",42)(12,"strong"),t._uU(13,"Quantity:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"span",43)(16,"strong"),t._uU(17,"Restaurant:"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"span",44)(20,"strong"),t._uU(21,"Price:"),t.qZA(),t._uU(22),t.qZA()()(),t.TgZ(23,"div",45)(24,"p",46),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).subtract(r[0],r[2],r[1],r[3])}),t._uU(25,"-"),t.qZA(),t.TgZ(26,"p",47),t._uU(27),t.qZA(),t.TgZ(28,"p",48),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).add(r[0],r[2],r[1],r[3])}),t._uU(29,"+"),t.qZA()(),t.TgZ(30,"div",49)(31,"i",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).deleteitem(r[0],r[2])}),t._uU(32," delete "),t.qZA()()()(),t.BQk()}if(2&n){const e=s.$implicit;t.xp6(10),t.hij(" ",e[0],""),t.xp6(4),t.hij(" ",e[1],""),t.xp6(4),t.hij(" ",e[3],""),t.xp6(4),t.hij(" Rs.",e[2],""),t.xp6(5),t.Oqu(e[1])}}function M(n,s){if(1&n&&(t.TgZ(0,"div",33),t.YNc(1,O,33,5,"ng-container",34),t._UZ(2,"br"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.keyvalue)}}function k(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,M,3,1,"div",32),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.display)}}function P(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51)(2,"span")(3,"h2"),t._uU(4),t.qZA()(),t.TgZ(5,"div",52)(6,"button",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().paymentDisplay=!1}),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().paymentfn()}),t._uU(9,"Pay"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij("Rs.",e.totalprice,"")}}function y(n,s){1&n&&(t.TgZ(0,"span",59)(1,"strong"),t._uU(2,"OOPS :( Cannot order from more than one restaurant at a time"),t.qZA()())}function Z(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",55)(1,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).confirmfunction()}),t.TgZ(2,"h4"),t._uU(3),t.TgZ(4,"button",57),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).checkoutfunction()}),t._uU(5,"Proceed to Pay"),t.qZA()(),t.YNc(6,y,3,0,"span",58),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij("Total Amount: Rs.",e.totalprice," "),t.xp6(1),t.Q6J("disabled",!e.confirmdisplay),t.xp6(2),t.Q6J("ngIf",!e.confirmdisplay)}}function T(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Z,7,3,"div",54),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.display)}}const w=[{path:"",component:(()=>{class n{constructor(e,o){this.userSer=e,this.router=o,this.count=0,this.searchText="",this.display=!0,this.keyvalue=[],this.totalprice=0,this.restaurant=[],this.confirmdisplay=!0,this.tokendisplay=!0,this.paymentDisplay=!1,this.menudisplay=!1}ngOnInit(){var e=localStorage.getItem("token"),o=localStorage.getItem("refreshToken"),i=e.split(".")[1],r=Buffer.from(i,"base64");"ADMIN"===JSON.parse(r).role&&this.router.navigate(["not-found"]);const{exp:a}=JSON.parse(r);Date.now()>=1e3*a==1&&(this.tokendisplay=!1,this.userSer.token(JSON.parse(r).Email_ID,o).subscribe(c=>{localStorage.setItem("token",c.token),window.location.reload()})),this.userSer.getFoodTable().subscribe(c=>{this.categories=c}),this.userSer.getSingleUser().subscribe(c=>{this.count=Object.keys(c.cart).length,(0!==this.count||NaN==this.count)&&(this.display=!1);for(let l in c.cart)this.keyvalue.push([l,c.cart[l][0],c.cart[l][1],c.cart[l][2]]),this.restaurant.includes(c.cart[l][2])||this.restaurant.push(c.cart[l][2]),this.restaurant.length>1&&(this.confirmdisplay=!1),this.totalprice=c.cart[l][1]+this.totalprice;this.user=c})}logout(){localStorage.removeItem("token"),this.router.navigate(["login"])}addToCart(e,o){var i=new Map;this.userSer.getSingleUser().subscribe(r=>{for(let c in r.cart)i.set(c,r.cart[c]);if(i.has(e)){var a=i.get(e)[0];i.set(e,[a+1,o+o])}else i.set(e,[1,o]),localStorage.setItem(e,[1,o].toString());let g={};i.forEach((c,l)=>{g[l]=c}),this.userSer.addToCart({cart:g}).subscribe(c=>{Object.keys(g),alert("Dish added to Cart successfully")})})}subtract(e,o,i,r){var a=new Map;this.userSer.getSingleUser().subscribe(g=>{for(let d in g.cart)a.set(d,g.cart[d]);if(a.has(e)){var c=a.get(e)[0];1!==c?a.set(e,[c-1,o/i*(i-1),r]):this.userSer.getSingleUser().subscribe(d=>{delete d.cart[e],this.userSer.addToCart({cart:d.cart}).subscribe(m=>{}),window.location.reload()})}else a.set(e,[1,o,r]);let p={};a.forEach((d,m)=>{p[m]=d}),this.userSer.addToCart({cart:p}).subscribe(d=>{Object.keys(p)}),window.location.reload()})}add(e,o,i,r){var a=new Map;this.userSer.getSingleUser().subscribe(g=>{for(let p in g.cart)a.set(p,g.cart[p]);if(a.has(e)){var c=a.get(e)[0];a.set(e,[c+1,o/i*(i+1),r])}else a.set(e,[1,o,r]);let l={};a.forEach((p,d)=>{l[d]=p}),this.userSer.addToCart({cart:l}).subscribe(p=>{Object.keys(l)}),window.location.reload()})}deleteitem(e,o){this.userSer.getSingleUser().subscribe(r=>{delete r.cart[e],this.userSer.addToCart({cart:r.cart}).subscribe(a=>{}),window.location.reload()})}confirmfunction(){this.restaurant.length>1&&(alert("Cannot place order from more than one restaurant at a time"),this.confirmdisplay=!1,this.router.navigate(["cart"]))}checkoutfunction(){this.paymentDisplay=!0}paymentfn(){var e=new Map;this.userSer.getSingleUser().subscribe(o=>{for(let r in o.cart)e.set(r,o.cart[r]);let i={};e.forEach((r,a)=>{i[a]=r}),this.userSer.addOrderDetails({cart:i}).subscribe(r=>{Object.keys(i)}),window.location.reload(),this.userSer.addToCart({cart:null}).subscribe(r=>{}),this.router.navigate(["userPage"]),alert("Your Order Placed Successfully")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cart"]],decls:37,vars:7,consts:[[1,"backgroundimage"],[1,"top"],[1,"homeLink"],["routerLink","/home"],[1,"loginLink"],["id","myorders"],["routerLink","/myOrders"],["id","ordernow"],["routerLink","/userPage"],["id","deliveryaddress"],["routerLink","/deliveryaddress"],["id","cart"],["routerLink","/cart"],[1,"badge","badge-dark",2,"color","orangered","background-color","white","padding-bottom","1px"],["routerLink","/login",3,"click"],[1,"mediatop"],["id","cart","routerLink","/cart",2,"margin-right","1.5em"],[1,"badge","badge-dark",2,"color","orangered","background-color","white","font-size","12px","padding-top","4px"],[1,"material-icons",3,"click"],["class","menu",4,"ngIf"],["src","assets/images/background.jpg",2,"height","100vh","width","100vw","object-fit","cover"],["class","text-block",4,"ngIf"],[4,"ngIf"],["class","payment",4,"ngIf"],[1,"menu"],[1,"text-block"],[1,"logo"],[1,"heading"],[2,"margin-top","20px","font-size","40px"],[2,"color","orangered","font-size","23px","margin-top","10px"],[1,"col-lg-13","mt-3",2,"margin-bottom","15px"],["routerLink","../userPage",1,"btn","btn-primary","btn-sm",2,"background-color","orangered","border","5px solid orangered","border-radius","10px"],["class","text-block2",4,"ngIf"],[1,"text-block2"],[4,"ngFor","ngForOf"],[1,"categories"],[1,"category"],[1,"foodimg"],["src","assets/images/cart2.png","alt",""],[1,"fooddetails"],[1,"keys"],["id","dish"],["id","quantity"],["id","restaurant"],["id","price"],[1,"addremove"],["id","subtract",3,"click"],["id","count"],["id","add",3,"click"],[1,"delete"],[1,"payment"],[1,"text-block4"],[1,"button"],[3,"click"],["class","text-block3",4,"ngIf"],[1,"text-block3"],[1,"heading",3,"click"],[3,"disabled","click"],["style","color: orangered;",4,"ngIf"],[2,"color","orangered"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t._uU(4,"H U N G R Y"),t.qZA()(),t.TgZ(5,"div",4)(6,"ul")(7,"li",5)(8,"a",6),t._uU(9,"My Orders"),t.qZA()(),t.TgZ(10,"li",7)(11,"a",8),t._uU(12,"Order Now"),t.qZA()(),t.TgZ(13,"li",9)(14,"a",10),t._uU(15,"Delivery Address"),t.qZA()(),t.TgZ(16,"li",11)(17,"a",12),t._uU(18,"Cart "),t.TgZ(19,"span",13),t._uU(20),t.qZA()()(),t.TgZ(21,"li")(22,"a",14),t.NdJ("click",function(){return o.logout()}),t._uU(23,"Logout"),t.qZA()()()()(),t.TgZ(24,"div",15)(25,"a",16),t._uU(26,"Cart "),t.TgZ(27,"span",17),t._uU(28),t.qZA()(),t.TgZ(29,"i",18),t.NdJ("click",function(){return o.menudisplay=!o.menudisplay}),t._uU(30," menu "),t.qZA(),t.YNc(31,b,14,0,"div",19),t.qZA(),t._UZ(32,"img",20),t.YNc(33,v,15,0,"div",21),t.YNc(34,k,2,1,"div",22),t.YNc(35,P,10,1,"div",23),t.YNc(36,T,2,1,"div",22),t.qZA()),2&e&&(t.xp6(20),t.Oqu(o.count),t.xp6(8),t.Oqu(o.count),t.xp6(3),t.Q6J("ngIf",o.menudisplay),t.xp6(2),t.Q6J("ngIf",o.display),t.xp6(1),t.Q6J("ngIf",!o.paymentDisplay),t.xp6(1),t.Q6J("ngIf",o.paymentDisplay),t.xp6(1),t.Q6J("ngIf",!o.paymentDisplay))},directives:[_.yS,f.O5,_.rH,f.sg],styles:[".backgroundimage[_ngcontent-%COMP%]{position:relative}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%;object-fit:cover;float:left}.logo[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:8px}#cart[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#ff4500}.categories[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;padding-top:20px;object-fit:cover}.category[_ngcontent-%COMP%]{width:100%;object-fit:cover;border-bottom:.5px solid orangered;text-align:center;vertical-align:middle;display:grid;grid-template-columns:25% 30% 25% 20%;grid-gap:8px;color:#000;background-color:#fff;padding:4px}.totalprice[_ngcontent-%COMP%]{position:fixed;margin-left:37%;margin-right:37%}.totalprice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1em}.fooddetails[_ngcontent-%COMP%]{text-align:left;padding-top:4px}.keys[_ngcontent-%COMP%], .values[_ngcontent-%COMP%]{display:flex;flex-direction:column}.addremove[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:auto}.addremove[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px;font-weight:500;padding-left:20px;padding-right:20px;border:1px solid orangered}.text-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .homeLink[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 7px white,0 0 10px orangered,0 0 21px orangered,0 0 42px orangered,0 0 82px orangered,0 0 92px orangered,0 0 102px orangered,0 0 151px orangered}.text-block[_ngcontent-%COMP%]{width:max-content;padding-bottom:10px;text-align:center;position:absolute;line-height:1.5;background-color:#030000b3;color:#fff;padding-left:20px;padding-right:20px;top:50%;left:50%;transform:translate(-50%,-50%)}.text-block3[_ngcontent-%COMP%]{width:max-content;text-align:center;position:absolute;background-color:#030000b3;color:#fff;padding:10px 20px 5px;top:91%;left:50%;transform:translate(-50%,-50%)}.heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:800;margin-left:10px;font-size:16px;padding:8px 16px;border-radius:24px;transition:.3s;border:none}.heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.01);background-color:#ff4500;color:#fff}.addremove[_ngcontent-%COMP%]   #count[_ngcontent-%COMP%]{border-right:none;border-left:none}#subtract[_ngcontent-%COMP%]:hover, #add[_ngcontent-%COMP%]:hover{background-color:#ff4500;color:#fff;cursor:pointer}.delete[_ngcontent-%COMP%]{margin:auto auto auto 40px;color:#ff4500}.material-icons[_ngcontent-%COMP%]:hover{cursor:pointer}.text-block2[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden;width:75vw;height:72vh;padding-bottom:10px;text-align:center;position:absolute;line-height:1.5;background-color:#030000b3;color:#fff;padding-left:20px;padding-right:20px;top:47%;left:50%;bottom:50%;transform:translate(-50%,-50%)}.text-block4[_ngcontent-%COMP%]{width:18vw;height:20vh;text-align:center;position:absolute;line-height:1;background-color:#030000b3;color:#fff;padding:15px 20px 10px 15px;top:47%;left:50%;bottom:50%;transform:translate(-50%,-50%)}.category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px}.logoimage[_ngcontent-%COMP%]{text-align:right}.heading[_ngcontent-%COMP%]{text-align:left}.top[_ngcontent-%COMP%]{z-index:1;height:45px;padding:8px;font-size:20px;background-color:#030000b3;position:fixed;display:flex;justify-content:space-between;width:100vw}.loginLink[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex:row}.homeLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff4500}ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;color:#fff;text-decoration:none}.mediatop[_ngcontent-%COMP%]{display:none}.text-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:23px;margin-top:10px}@media only screen and (max-width:900px){.top[_ngcontent-%COMP%]{display:none}.text-block2[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden;width:100%;height:55vh;padding-bottom:10px;text-align:center;position:absolute;line-height:1.5;background-color:#030000b3;color:#fff;padding-left:20px;padding-right:20px;top:47%;left:50%;bottom:50%;transform:translate(-50%,-50%)}.mediatop[_ngcontent-%COMP%]{text-align:right;color:#ff4500;display:block;z-index:1;height:45px;padding:8px 16px;font-size:20px;background-color:#030000b3;position:fixed;width:100vw}.menu[_ngcontent-%COMP%]{margin-top:3px;width:90%;text-align:center}.text-block3[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:19px}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:.1px solid rgba(255,255,255,.244);line-height:1;display:flex;flex-direction:column;background-color:#ff4500}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;color:#ff4500}.text-block[_ngcontent-%COMP%]{margin-top:6%;width:100%}.text-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:small}.break[_ngcontent-%COMP%]{font-size:larger}.categories[_ngcontent-%COMP%]{display:block;width:100%}.category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-align:left;height:6em;width:6em}.category[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:40% 60%;grid-gap:1em}.fooddetails[_ngcontent-%COMP%]{display:block}.text-block4[_ngcontent-%COMP%]{width:100%}.price-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:3em;width:3em;padding-bottom:8px}.categories[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:medium}}"]}),n})()}];let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.Bz.forChild(w)],_.Bz]}),n})();var A=u(2382);let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,U,A.u5,h.h]]}),n})()}}]);